<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pgocaml-dev] Specifying additional parameters (such as search_path) at connection time
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pgocaml-dev/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:pgocaml-dev%40lists.berlios.de?Subject=Re%3A%20%5BPgocaml-dev%5D%20Specifying%20additional%20parameters%20%28such%20as%0A%20search_path%29%20at%20connection%20time&In-Reply-To=%3C4D4B0CB7.50704%40elehack.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000109.html">
   <LINK REL="Next"  HREF="000111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pgocaml-dev] Specifying additional parameters (such as search_path) at connection time</H1>
    <B>Michael Ekstrand</B> 
    <A HREF="mailto:pgocaml-dev%40lists.berlios.de?Subject=Re%3A%20%5BPgocaml-dev%5D%20Specifying%20additional%20parameters%20%28such%20as%0A%20search_path%29%20at%20connection%20time&In-Reply-To=%3C4D4B0CB7.50704%40elehack.net%3E"
       TITLE="[Pgocaml-dev] Specifying additional parameters (such as search_path) at connection time">michael at elehack.net
       </A><BR>
    <I>Thu Feb  3 21:14:47 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000109.html">[Pgocaml-dev] Patch to make PGOCaml work with Batteries
</A></li>
        <LI>Next message: <A HREF="000111.html">[Pgocaml-dev] Patch to make PGOCaml work with Batteries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110">[ date ]</a>
              <a href="thread.html#110">[ thread ]</a>
              <a href="subject.html#110">[ subject ]</a>
              <a href="author.html#110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I use schemas to organize my tables and try to keep namespaces clean,
but this introduces the need to have PGOCaml configure the search path
in order to find the right tables.  I can successfully set the
search_path parameter using the low-level interface, but this doesn't
help at compile time.

I've been able to modify PGOCaml to take a search_path parameter in the
connect function, defaulting to the value of the PGSEARCHPATH
environment variable, and pass this as an additional setting in the
connect message.  This enables me to set the search path and allow
PGOCaml to find the tables.

Before I clean up the patch and submit it, though, I'd like some design
feedback.  Is this a good solution, or would it be better to introduce a
generic 'options' parameter of type (string * string) list, reading from
a delimited value in PGOPTIONS so that users can set arbitrary options
at connect time?

Thanks!
- Michael

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000109.html">[Pgocaml-dev] Patch to make PGOCaml work with Batteries
</A></li>
	<LI>Next message: <A HREF="000111.html">[Pgocaml-dev] Patch to make PGOCaml work with Batteries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#110">[ date ]</a>
              <a href="thread.html#110">[ thread ]</a>
              <a href="subject.html#110">[ subject ]</a>
              <a href="author.html#110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pgocaml-dev">More information about the Pgocaml-dev
mailing list</a><br>
</body></html>
