<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pgocaml-dev] Patch to make PGOCaml work with Batteries
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pgocaml-dev/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:pgocaml-dev%40lists.berlios.de?Subject=Re%3A%20%5BPgocaml-dev%5D%20Patch%20to%20make%20PGOCaml%20work%20with%20Batteries&In-Reply-To=%3C157240.71947.qm%40web111504.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000106.html">
   <LINK REL="Next"  HREF="000109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pgocaml-dev] Patch to make PGOCaml work with Batteries</H1>
    <B>Dario Teixeira</B> 
    <A HREF="mailto:pgocaml-dev%40lists.berlios.de?Subject=Re%3A%20%5BPgocaml-dev%5D%20Patch%20to%20make%20PGOCaml%20work%20with%20Batteries&In-Reply-To=%3C157240.71947.qm%40web111504.mail.gq1.yahoo.com%3E"
       TITLE="[Pgocaml-dev] Patch to make PGOCaml work with Batteries">darioteixeira at yahoo.com
       </A><BR>
    <I>Thu Feb  3 19:32:13 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000106.html">[Pgocaml-dev] PGOCaml now in GODI
</A></li>
        <LI>Next message: <A HREF="000109.html">[Pgocaml-dev] Patch to make PGOCaml work with Batteries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108">[ date ]</a>
              <a href="thread.html#108">[ thread ]</a>
              <a href="subject.html#108">[ subject ]</a>
              <a href="author.html#108">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i>  In more testing and usage, I've found a bug and some suboptimality
</I>&gt;<i>  in the original patch.&#160; Attached is an updated version which fixes a
</I>&gt;<i>  bug in the syntax extension and makes the USE_BATTERIES variable an
</I>&gt;<i>  unconditional set so that the config file must be modified to turn
</I>&gt;<i>  on Batteries.&#160; It also substitutes the PACKAGE variable in as a
</I>&gt;<i>  dependency for pgocaml.syntax, rather than hard-coding pgocaml, so
</I>&gt;<i>  that it can work correctly in Batteries mode with a different
</I>&gt;<i>  package name.
</I>
I'll take a look at the patch and apply it in trunk.  Eventually it will
make sense to depend on Batteries only, but for now let's keep the choice
between ExtLib and Batteries.

As for the GODI package, perhaps you could have a single pgocaml package
by relying on a configuration variable to switch between ExtLib/Batteries?
Also, there is a configuration option in Makefile.config which at the
moment is not configurable via the GODI package: the location of the
Postgresql Unix domain socket.

Cheers,
Dario



      

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000106.html">[Pgocaml-dev] PGOCaml now in GODI
</A></li>
	<LI>Next message: <A HREF="000109.html">[Pgocaml-dev] Patch to make PGOCaml work with Batteries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#108">[ date ]</a>
              <a href="thread.html#108">[ thread ]</a>
              <a href="subject.html#108">[ subject ]</a>
              <a href="author.html#108">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pgocaml-dev">More information about the Pgocaml-dev
mailing list</a><br>
</body></html>
